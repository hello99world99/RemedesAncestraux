{"version":3,"file":"src_app_pages_remedes_remedes_module_ts.js","mappings":"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","sources":["./src/app/pages/remedes/remedes.page.html","./src/app/pages/remedes/remedes-routing.module.ts","./src/app/pages/remedes/remedes.module.ts","./src/app/pages/remedes/remedes.page.ts"],"sourcesContent":["export default \"<ion-content>\\r\\n\\r\\n  <ion-header class='bg_trans'>\\r\\n    <ion-toolbar class='bg_transp' lines=\\\"none\\\">\\r\\n      <ion-buttons slot=\\\"start\\\">\\r\\n        <ion-back-button defaultHref=\\\"\\\"></ion-back-button>\\r\\n      </ion-buttons>\\r\\n    </ion-toolbar>\\r\\n  </ion-header>\\r\\n\\r\\n  <form #data=\\\"ngForm\\\" (ngSubmit)=\\\"addRemede(data)\\\" enctype=\\\"multipart/form-data\\\">\\r\\n    <ion-item class='bg_transp ion-margin' lines=\\\"none\\\">\\r\\n      <ion-label position=\\\"floating\\\">Choississez la categorie</ion-label>\\r\\n      <ion-select (ionChange)=\\\"cimChanged(data)\\\" name=\\\"cim\\\" ngModel>\\r\\n        <ion-select-option *ngFor=\\\"let cim of cimList\\\" value=\\\"{{ cim[0] }}@{{ cim[1].title}}\\\">{{ cim[1]?.title }}\\r\\n        </ion-select-option>\\r\\n      </ion-select>\\r\\n    </ion-item>\\r\\n    <ion-item class='bg_transp ion-margin' lines=\\\"none\\\" *ngIf=\\\"cimSelected\\\">\\r\\n      <ion-text><strong>Vous avez choisi la categorie : </strong>\\r\\n        <p>{{ cimSelected }}</p>\\r\\n      </ion-text>\\r\\n    </ion-item>\\r\\n\\r\\n    <ion-item class='bg_transp ion-margin' lines=\\\"none\\\">\\r\\n      <ion-label position=\\\"floating\\\">Choississez la maladie</ion-label>\\r\\n      <ion-select id=\\\"child\\\" (ionChange)=\\\"childChanged(data)\\\" name=\\\"child\\\" ngModel>\\r\\n        <ion-select-option *ngFor=\\\"let child of children\\\" value=\\\"{{ child[0] }}@{{ child[1].title}}\\\">{{ child[1]?.title\\r\\n          }}</ion-select-option>\\r\\n      </ion-select>\\r\\n    </ion-item>\\r\\n    <ion-item class='bg_transp ion-margin' lines=\\\"none\\\" *ngIf=\\\"illnessSelected\\\">\\r\\n      <ion-text><strong>Vous avez choisi la maladie : </strong>\\r\\n        <p>{{ illnessSelected }}</p>\\r\\n      </ion-text>\\r\\n    </ion-item>\\r\\n    <ion-item class='bg_transp ion-margin' lines=\\\"none\\\">\\r\\n      <ion-label position=\\\"floating\\\">Description</ion-label>\\r\\n      <ion-input type=\\\"text\\\" name=\\\"description\\\" placeholder=\\\"Mode d'emploi du medicament\\\" ngModel></ion-input>\\r\\n    </ion-item>\\r\\n    <ion-card></ion-card>\\r\\n    <input id=\\\"imageInput\\\" class=\\\"ion-hide\\\" type=\\\"file\\\" accept=\\\"image/png, image/jpeg\\\">\\r\\n    <ion-button id=\\\"imageBtn\\\" class=\\\"ion-margin\\\" expand=\\\"block\\\" color=\\\"cgreen\\\">\\r\\n      <ion-icon name=\\\"camera\\\" class=\\\"ion-margin\\\"></ion-icon>\\r\\n      Image\\r\\n    </ion-button>\\r\\n    <ion-card></ion-card>\\r\\n    <input class=\\\"ion-hide\\\" id=\\\"audioInput\\\" type=\\\"file\\\" accept=\\\"audio/*\\\">\\r\\n    <ion-button id=\\\"audioBtn\\\" class=\\\"ion-margin\\\" expand=\\\"block\\\" color=\\\"cgreen\\\">\\r\\n      <ion-icon name=\\\"musical-notes-outline\\\" class=\\\"ion-margin\\\"></ion-icon>\\r\\n      Audio\\r\\n    </ion-button>\\r\\n    <ion-button class=\\\"ion-margin\\\" color=\\\"cgreen\\\" expand=\\\"block\\\" type=\\\"submit\\\">Publier</ion-button>\\r\\n    <ion-button class=\\\"ion-margin\\\" color=\\\"danger\\\" expand=\\\"block\\\" type=\\\"reset\\\">Annuler</ion-button>\\r\\n  </form>\\r\\n\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { RemedesPage } from './remedes.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: RemedesPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class RemedesPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { RemedesPageRoutingModule } from './remedes-routing.module';\r\n\r\nimport { RemedesPage } from './remedes.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RemedesPageRoutingModule\r\n  ],\r\n  declarations: [RemedesPage]\r\n})\r\nexport class RemedesPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { LoadingController } from '@ionic/angular';\r\nimport { collection, doc, getDoc, getDocs, getFirestore, query } from 'firebase/firestore';\r\n\r\n@Component({\r\n  selector: 'app-remedes',\r\n  templateUrl: './remedes.page.html',\r\n  styleUrls: ['./remedes.page.scss'],\r\n})\r\nexport class RemedesPage implements OnInit {\r\n\r\n  public cimList: any[] = [];\r\n  public children: any[] = [];\r\n  public cimSelected: string;\r\n  public illnessSelected: string;\r\n  private db = getFirestore();\r\n  private image: File;\r\n  private audio: File;\r\n  private loading: any;\r\n  constructor(\r\n    private loadingCtrl: LoadingController\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.presentLoadingDefault();\r\n    this.getCim();\r\n    const imageInput = document.getElementById('imageInput');\r\n    const imageBtn = document.getElementById('imageBtn');\r\n\r\n    imageBtn.addEventListener('click', (e) => {\r\n      e.preventDefault();\r\n      imageInput.click();\r\n    });\r\n    imageInput.addEventListener('change', this.setImage);\r\n\r\n    const audioInput = document.getElementById('audioInput');\r\n    const audioBtn = document.getElementById('audioBtn');\r\n    audioBtn.addEventListener('click', (e) => {\r\n      e.preventDefault();\r\n      audioInput.click();\r\n    });\r\n    audioInput.addEventListener('change', this.setAudio);\r\n\r\n  }\r\n\r\n  public async addRemede(data: any) {\r\n    console.log('Remede : ', data.value);\r\n    console.log('Image : ', this.image);\r\n    console.log('Audio : ', this.audio);\r\n  }\r\n\r\n  public async getCim() {\r\n    const q = query(collection(this.db, 'CIM'));\r\n    const querySnapshot = await getDocs(q);\r\n    querySnapshot.forEach((cim) => {\r\n      const id = cim.id;\r\n      const result = [\r\n        id, cim.data()\r\n      ];\r\n      this.cimList.push(result);\r\n    });\r\n    this.loading.dismiss();\r\n  }\r\n\r\n  public cimChanged(data: any) {\r\n    const convert = data.value.cim.split('@');\r\n    this.cimSelected = convert[1];\r\n    const child = document.getElementById('child');\r\n    child.setAttribute('value', '');\r\n    this.presentLoadingDefault();\r\n    this.getChildren(convert[0]);\r\n  }\r\n\r\n  public childChanged(data: any){\r\n    const convert = data.value.child.split('@');\r\n    this.illnessSelected = convert[1];\r\n  }\r\n\r\n  public async getChildren(uid: string) {\r\n    this.children = [];\r\n    const querySnapshot = await getDocs(\r\n      collection(this.db, 'CIM/'+uid+'/Children')\r\n    );\r\n    await querySnapshot.forEach((document) => {\r\n      const id = document.id;\r\n      const result = [\r\n        id, document.data()\r\n      ];\r\n      this.children.push(result);\r\n    });\r\n    this.loading.dismiss();\r\n  }\r\n\r\n  public async setImage(event){\r\n    this.image = await event.target.files[0];\r\n    console.log(this.image);\r\n  }\r\n\r\n  public async setAudio(event){\r\n    this.audio = await event.target.files[0];\r\n    console.log(this.audio);\r\n  }\r\n\r\n  public async presentLoadingDefault() {\r\n    this.loading = await this.loadingCtrl.create({\r\n      message: '<span>Chargement des contenues...</span>',\r\n    });\r\n    await this.loading.present();\r\n  }\r\n\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}